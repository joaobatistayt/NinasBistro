<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cardápio Interativo com LocalStorage</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
      background-color: #f4f4f4;
    }
    h1 {
      text-align: center;
    }
    .section {
      background: white;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      padding: 5px 0;
    }
    label, select, input {
      margin: 5px 0;
      display: block;
    }
    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }
    button {
      padding: 8px 16px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>

  <h1>Cardápio Interativo</h1>

  <!-- Formulário de Adição -->
  <div class="section">
    <h2>Adicionar Item ao Cardápio</h2>
    <form id="formulario">
      <label for="categoria">Categoria:</label>
      <select id="categoria" required>
        <option value="entrada">Entrada</option>
        <option value="prato-principal">Prato Principal</option>
        <option value="sobremesa">Sobremesa</option>
        <option value="bebida">Bebida</option>
      </select>

      <label for="nome">Nome do Item:</label>
      <input type="text" id="nome" placeholder="Ex: Salada Caesar" required>

      <label for="preco">Preço (R$):</label>
      <input type="number" id="preco" step="0.01" placeholder="Ex: 19.90" required>

      <button type="submit">Adicionar</button>
    </form>
  </div>

  <!-- Seções do Cardápio -->
  <div class="section">
    <h2>Entradas</h2>
    <ul id="entrada"></ul>
  </div>

  <div class="section">
    <h2>Prato Principal</h2>
    <ul id="prato-principal"></ul>
  </div>

  <div class="section">
    <h2>Sobremesas</h2>
    <ul id="sobremesa"></ul>
  </div>

  <div class="section">
    <h2>Bebidas</h2>
    <ul id="bebida"></ul>
  </div>

  <!-- JavaScript -->
  <script>
    // Objeto com os dados do cardápio
    let cardapio = {
      "entrada": [],
      "prato-principal": [],
      "sobremesa": [],
      "bebida": []
    };

    // Carrega do localStorage ao iniciar
    window.onload = function() {
      const dadosSalvos = localStorage.getItem("cardapio");

      if (dadosSalvos) {
        cardapio = JSON.parse(dadosSalvos);
        renderizarCardapio();
      }
    };

    // Função para adicionar item e salvar no localStorage
    const form = document.getElementById('formulario');
    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const categoria = document.getElementById('categoria').value;
      const nome = document.getElementById('nome').value.trim();
      const preco = parseFloat(document.getElementById('preco').value).toFixed(2);

      if (nome === '' || isNaN(preco)) {
        alert('Preencha todos os campos corretamente.');
        return;
      }

      // Adiciona ao objeto
      cardapio[categoria].push({ nome, preco });

      // Salva no localStorage
      localStorage.setItem("cardapio", JSON.stringify(cardapio));

      // Atualiza a interface
      renderizarCardapio();

      // Limpa o formulário
      form.reset();
    });

    // Função para renderizar os itens na tela
    function renderizarCardapio() {
      for (const categoria in cardapio) {
        const ul = document.getElementById(categoria);
        ul.innerHTML = ''; // Limpa a lista antes de renderizar

        cardapio[categoria].forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.nome} - R$ ${item.preco}`;
          ul.appendChild(li);
        });
      }
    }
  </script>

</body>
</html>

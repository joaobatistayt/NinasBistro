<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cardápio Interativo com LocalStorage</title>
  <link rel="stylesheet" href="cardapio.css">
</head>
<body>

  <a href="index.html" class="botaoVoltar">Voltar</a>

  <h1>Cardápio Interativo</h1>

  <div class="section">
    <h2>Adicionar Item ao Cardápio</h2>
    <form id="formulario">
      <label for="categoria">Categoria:</label>
      <select id="categoria" required>
        <option value="entrada">Entrada</option>
        <option value="prato-principal">Prato Principal</option>
        <option value="sobremesa">Sobremesa</option>
        <option value="bebida">Bebida</option>
      </select>

      <label for="nome">Nome do Item:</label>
      <input type="text" id="nome" placeholder="Ex: Salada Caesar" required>

      <label for="preco">Preço (R$):</label>
      <input type="number" id="preco" step="0.01" placeholder="Ex: 19.90" required>

      <button type="submit">Adicionar</button>
    </form>
  </div>

  <div class="section">
    <h2>Entradas</h2>
    <ul id="entrada"></ul>
  </div>

  <div class="section">
    <h2>Prato Principal</h2>
    <ul id="prato-principal"></ul>
  </div>

  <div class="section">
    <h2>Sobremesas</h2>
    <ul id="sobremesa"></ul>
  </div>

  <div class="section">
    <h2>Bebidas</h2>
    <ul id="bebida"></ul>
  </div>

  <script>
    let cardapio = {
      "entrada": [],
      "prato-principal": [],
      "sobremesa": [],
      "bebida": []
    };

    window.onload = function() {
      const dadosSalvos = localStorage.getItem("cardapio");

      if (dadosSalvos) {
        cardapio = JSON.parse(dadosSalvos);
        renderizarCardapio();
      }
    };

    const form = document.getElementById('formulario');
    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const categoria = document.getElementById('categoria').value;
      const nome = document.getElementById('nome').value.trim();
      const preco = parseFloat(document.getElementById('preco').value).toFixed(2);

      if (nome === '' || isNaN(preco)) {
        alert('Preencha todos os campos corretamente.');
        return;
      }

      cardapio[categoria].push({ nome, preco });
      localStorage.setItem("cardapio", JSON.stringify(cardapio));
      renderizarCardapio();

      form.reset();
    });

    function renderizarCardapio() {
      for (const categoria in cardapio) {
        const ul = document.getElementById(categoria);
        ul.innerHTML = '';

        cardapio[categoria].forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.nome} - R$ ${item.preco}`;
          ul.appendChild(li);
        });
      }
    }
  </script>

</body>
</html>
